import{_ as e}from"./index-BoXAILMA.js";import{_ as a}from"./AddMenuModal.vue_vue_type_script_setup_true_lang-Dfids1hw.js";import{b as l}from"./menu-DZLaM3CE.js";import{d as t,I as i,e as n,V as s,f as o,o as d,a as r,w as c,i as u,j as p,h as m,D as _,t as f,b as y,fo as g,g as k,F as h,r as v,v as w,a8 as x,a5 as z}from"./index-NN6HqJxL.js";import{u as j}from"./useDict-Dx3FZwzL.js";import{u as b}from"./useTable-DhNKUqiU.js";import{_ as C}from"./index-gSJleU2S.js";import"./index-Dft-snCc.js";import"./index-BjgBGjU-.js";import"./useResetReactive-Cfk5XVfD.js";import"./useBreakpoint-CEEUhLCS.js";const R=t({name:"SystemMenu",__name:"index",setup(t){const{data:R}=j({code:"status"}),V=i("AddMenuModalRef"),M=i("tableRef"),S=n(!1),A=()=>{var e;S.value=!S.value,null==(e=M.value)||e.expandAll(S.value)},I=s({name:"",status:""}),{loading:D,tableData:J,search:U,fixed:B}=b((()=>l.getList()),{immediate:!0}),F=()=>{I.name="",I.status="",U()},G=()=>{var e;null==(e=V.value)||e.add()},H=()=>{x.open({title:"数据结构",content:()=>z(C,{codeJson:JSON.stringify(J.value,null,"\t")}),width:560})};return(l,t)=>{const i=o("icon-plus"),n=o("a-button"),s=o("icon-list"),x=o("icon-mind-mapping"),z=o("a-tooltip"),j=o("icon-code"),b=o("a-space"),C=o("icon-search"),L=o("a-input"),N=o("a-select"),O=o("icon-refresh"),T=o("a-row"),W=o("IconDown"),q=o("IconRight"),E=o("a-table-column"),K=o("a-tag"),P=e,Q=o("a-switch"),X=o("icon-edit"),Y=o("icon-delete"),Z=o("a-popconfirm"),$=o("a-table"),ee=o("a-card");return d(),r(ee,{title:"菜单管理",class:"gi_page_card"},{default:c((()=>[u(T,{justify:"space-between"},{default:c((()=>[u(b,{wrap:""},{default:c((()=>[u(n,{type:"primary",onClick:G},{icon:c((()=>[u(i)])),default:c((()=>[t[2]||(t[2]=p("span",null,"新增",-1))])),_:1}),u(z,{content:"展开/折叠"},{default:c((()=>[u(n,{type:"primary",status:"success",onClick:A},{icon:c((()=>[m(S)?(d(),r(x,{key:1})):(d(),r(s,{key:0}))])),_:1})])),_:1}),u(z,{content:"查看数据结构"},{default:c((()=>[u(n,{type:"primary",status:"warning",onClick:H},{icon:c((()=>[u(j)])),_:1})])),_:1})])),_:1}),u(b,{wrap:""},{default:c((()=>[u(L,{modelValue:m(I).name,"onUpdate:modelValue":t[0]||(t[0]=e=>m(I).name=e),placeholder:"输入菜单名称搜索","allow-clear":"",style:{width:"250px"}},{prefix:c((()=>[u(C)])),_:1},8,["modelValue"]),u(N,{modelValue:m(I).status,"onUpdate:modelValue":t[1]||(t[1]=e=>m(I).status=e),options:m(R),placeholder:"菜单状态",style:{width:"120px"}},null,8,["modelValue","options"]),u(n,{type:"primary",onClick:m(U)},{icon:c((()=>[u(C)])),default:c((()=>[t[3]||(t[3]=p("span",null,"搜索",-1))])),_:1},8,["onClick"]),u(n,{onClick:F},{icon:c((()=>[u(O)])),default:c((()=>[t[4]||(t[4]=p("span",null,"重置",-1))])),_:1})])),_:1})])),_:1}),u($,{ref_key:"tableRef",ref:M,class:"gi_table","row-key":"id",data:m(J),loading:m(D),bordered:{cell:!0},scroll:{x:"100%",y:"100%",minWidth:1700},pagination:!1,size:"mini"},{"expand-icon":c((({expanded:e})=>[e?(d(),r(W,{key:0})):(d(),r(q,{key:1}))])),columns:c((()=>[u(E,{title:"菜单名称"},{cell:c((({record:e})=>[_(f(e.title||""),1)])),_:1}),u(E,{title:"类型",width:80,align:"center"},{cell:c((({record:e})=>[1===e.type?(d(),r(K,{key:0,size:"small",color:"orangered"},{default:c((()=>t[5]||(t[5]=[_("目录")]))),_:1})):y("",!0),2===e.type?(d(),r(K,{key:1,size:"small",color:"green"},{default:c((()=>t[6]||(t[6]=[_("菜单")]))),_:1})):y("",!0),3===e.type?(d(),r(K,{key:2,size:"small"},{default:c((()=>t[7]||(t[7]=[_("按钮")]))),_:1})):y("",!0)])),_:1}),u(E,{title:"排序",width:80,align:"center"},{cell:c((({record:e})=>[_(f(e.sort||0),1)])),_:1}),u(E,{title:"路由路径","data-index":"path"}),u(E,{title:"路由名称"},{cell:c((({record:e})=>[_(f(m(g)(e.path)),1)])),_:1}),u(E,{title:"组件路径","data-index":"component"}),u(E,{title:"权限标识","data-index":"permission"}),u(E,{title:"菜单图标","data-index":"icon",width:100,align:"center"},{cell:c((({record:e})=>[e.svgIcon?(d(),r(P,{key:0,size:24,name:e.svgIcon},null,8,["name"])):(d(),k(h,{key:1},[e.icon?(d(),r(v(e.icon),{key:0,size:24})):y("",!0)],64))])),_:1}),u(E,{title:"状态",width:80,align:"center"},{cell:c((({record:e})=>[u(Q,{type:"round",size:"small","model-value":e.status,"checked-value":1,"unchecked-value":0},null,8,["model-value"])])),_:1}),u(E,{title:"是否缓存",width:100,align:"center"},{cell:c((({record:e})=>[e.keepAlive?(d(),r(K,{key:0,size:"small",color:"green"},{default:c((()=>t[8]||(t[8]=[_("是")]))),_:1})):(d(),r(K,{key:1,size:"small",color:"red"},{default:c((()=>t[9]||(t[9]=[_("否")]))),_:1}))])),_:1}),u(E,{title:"是否隐藏",width:100,align:"center"},{cell:c((({record:e})=>[e.hidden?(d(),r(K,{key:0,size:"small",color:"green"},{default:c((()=>t[10]||(t[10]=[_("是")]))),_:1})):(d(),r(K,{key:1,size:"small",color:"red"},{default:c((()=>t[11]||(t[11]=[_("否")]))),_:1}))])),_:1}),u(E,{title:"是否外链",width:100,align:"center"},{cell:c((({record:e})=>[m(w)(e.path)?(d(),r(K,{key:0,size:"small",color:"green"},{default:c((()=>t[12]||(t[12]=[_("是")]))),_:1})):(d(),r(K,{key:1,size:"small",color:"red"},{default:c((()=>t[13]||(t[13]=[_("否")]))),_:1}))])),_:1}),u(E,{title:"操作",width:200,align:"left",fixed:m(B)},{cell:c((({record:e})=>[u(b,null,{default:c((()=>[u(n,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=V.value)||t.edit(l.id));var l,t}},{icon:c((()=>[u(X)])),default:c((()=>[t[14]||(t[14]=p("span",null,"编辑",-1))])),_:2},1032,["onClick"]),[1,2].includes(e.type)?(d(),r(n,{key:0,type:"primary",status:"success",size:"mini"},{icon:c((()=>[u(i)])),_:1})):y("",!0),u(Z,{type:"warning",content:"您确定要删除该项吗?"},{default:c((()=>[u(n,{type:"primary",status:"danger",size:"mini"},{icon:c((()=>[u(Y)])),default:c((()=>[t[15]||(t[15]=p("span",null,"删除",-1))])),_:1})])),_:1})])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading"]),u(a,{ref_key:"AddMenuModalRef",ref:V,menus:m(J),onSaveSuccess:m(U)},null,8,["menus","onSaveSuccess"])])),_:1})}}});export{R as default};
