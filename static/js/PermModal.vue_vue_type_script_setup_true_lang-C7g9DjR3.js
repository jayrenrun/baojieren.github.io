import{g as e}from"./role-Cv67w_12.js";import{g as a}from"./menu-DZLaM3CE.js";import{d as s,I as l,e as t,c as n,f as c,o,a as r,w as i,i as u,h as d,E as m,W as f,a6 as k,M as v}from"./index-NN6HqJxL.js";const p=s({__name:"PermModal",setup(s,{expose:p}){const h=l("treeRef"),y=t([]);(async()=>{const e=await a();y.value=e.data,k((()=>{var e;null==(e=h.value)||e.expandAll()}))})();const b=n((()=>"分配权限")),_=t(!1),x=t([]),j=()=>{v.success("模拟保存成功")};return p({open:a=>{x.value=[],_.value=!0,e({role:a.code}).then((e=>{x.value=e.data}))}}),(e,a)=>{const s=c("a-tree"),l=c("a-modal");return o(),r(l,{visible:d(_),"onUpdate:visible":a[1]||(a[1]=e=>m(_)?_.value=e:null),title:d(b),fullscreen:d(f)(),"mask-closable":!0,onOk:j},{default:i((()=>[u(s,{ref_key:"treeRef",ref:h,"checked-keys":d(x),"onUpdate:checkedKeys":a[0]||(a[0]=e=>m(x)?x.value=e:null),size:"mini",checkable:"","check-strictly":!0,data:d(y),"field-names":{key:"id"}},null,8,["checked-keys","data"])])),_:1},8,["visible","title","fullscreen"])}}});export{p as _};
